<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Hometask 4</title>
  <style>
    img {
      width: 100%;
      object-fit: cover;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js" async></script>
</head>

<body>
  <picture>
    <source srcset="http://localhost:8000/image1?format=webp&width=320" media="(max-width: 320px)" type="image/webp">
    <source srcset="http://localhost:8000/image1?format=webp&width=768" media="(max-width: 768px)" type="image/webp">
    <source srcset="http://localhost:8000/image1?format=webp&width=1024" media="(max-width: 1024px)" type="image/webp">
    <source srcset="http://localhost:8000/image1?format=webp&width=1920" type="image/webp">

    <source srcset="http://localhost:8000/image1?format=jpeg&width=320" media="(max-width: 320px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image1?format=jpeg&width=768" media="(max-width: 768px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image1?format=jpeg&width=1024" media="(max-width: 1024px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image1?format=jpeg&width=1920" type="image/jpeg">

    <img loading="lazy" src="http://localhost:8000/image1?format=jpeg&width=320" alt=''>
  </picture>

  <picture>
    <source srcset="http://localhost:8000/image2?format=webp&width=320" media="(max-width: 320px)" type="image/webp">
    <source srcset="http://localhost:8000/image2?format=webp&width=768" media="(max-width: 768px)" type="image/webp">
    <source srcset="http://localhost:8000/image2?format=webp&width=1024" media="(max-width: 1024px)" type="image/webp">
    <source srcset="http://localhost:8000/image2?format=webp&width=1920" type="image/webp">

    <source srcset="http://localhost:8000/image2?format=jpeg&width=320" media="(max-width: 320px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image2?format=jpeg&width=768" media="(max-width: 768px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image2?format=jpeg&width=1024" media="(max-width: 1024px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image2?format=jpeg&width=1920" type="image/jpeg">

    <img loading="lazy" src="http://localhost:8000/image2?format=jpeg&width=320" alt=''>
  </picture>

  <picture>
    <source srcset="http://localhost:8000/image3?format=webp&width=320" media="(max-width: 320px)" type="image/webp">
    <source srcset="http://localhost:8000/image3?format=webp&width=768" media="(max-width: 768px)" type="image/webp">
    <source srcset="http://localhost:8000/image3?format=webp&width=1024" media="(max-width: 1024px)" type="image/webp">
    <source srcset="http://localhost:8000/image3?format=webp&width=1920" type="image/webp">

    <source srcset="http://localhost:8000/image3?format=jpeg&width=320" media="(max-width: 320px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image3?format=jpeg&width=768" media="(max-width: 768px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image3?format=jpeg&width=1024" media="(max-width: 1024px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image3?format=jpeg&width=1920" type="image/jpeg">

    <img loading="lazy" src="http://localhost:8000/image3?format=jpeg&width=320" alt=''>
  </picture>

  <picture>
    <source srcset="http://localhost:8000/image4?format=webp&width=320" media="(max-width: 320px)" type="image/webp">
    <source srcset="http://localhost:8000/image4?format=webp&width=768" media="(max-width: 768px)" type="image/webp">
    <source srcset="http://localhost:8000/image4?format=webp&width=1024" media="(max-width: 1024px)" type="image/webp">
    <source srcset="http://localhost:8000/image4?format=webp&width=1920" type="image/webp">

    <source srcset="http://localhost:8000/image4?format=jpeg&width=320" media="(max-width: 320px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image4?format=jpeg&width=768" media="(max-width: 768px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image4?format=jpeg&width=1024" media="(max-width: 1024px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image4?format=jpeg&width=1920" type="image/jpeg">

    <img loading="lazy" src="http://localhost:8000/image4?format=jpeg&width=320" alt=''>
  </picture>

  <picture>
    <source srcset="http://localhost:8000/image5?format=webp&width=320" media="(max-width: 320px)" type="image/webp">
    <source srcset="http://localhost:8000/image5?format=webp&width=768" media="(max-width: 768px)" type="image/webp">
    <source srcset="http://localhost:8000/image5?format=webp&width=1024" media="(max-width: 1024px)" type="image/webp">
    <source srcset="http://localhost:8000/image5?format=webp&width=1920" type="image/webp">

    <source srcset="http://localhost:8000/image5?format=jpeg&width=320" media="(max-width: 320px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image5?format=jpeg&width=768" media="(max-width: 768px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image5?format=jpeg&width=1024" media="(max-width: 1024px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image5?format=jpeg&width=1920" type="image/jpeg">

    <img loading="lazy" src="http://localhost:8000/image5?format=jpeg&width=320" alt=''>
  </picture>

  <picture>
    <source srcset="http://localhost:8000/image6?format=webp&width=320" media="(max-width: 320px)" type="image/webp">
    <source srcset="http://localhost:8000/image6?format=webp&width=768" media="(max-width: 768px)" type="image/webp">
    <source srcset="http://localhost:8000/image6?format=webp&width=1024" media="(max-width: 1024px)" type="image/webp">
    <source srcset="http://localhost:8000/image6?format=webp&width=1920" type="image/webp">

    <source srcset="http://localhost:8000/image6?format=jpeg&width=320" media="(max-width: 320px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image6?format=jpeg&width=768" media="(max-width: 768px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image6?format=jpeg&width=1024" media="(max-width: 1024px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image6?format=jpeg&width=1920" type="image/jpeg">

    <img loading="lazy" src="http://localhost:8000/image6?format=jpeg&width=320" alt=''>
  </picture>

  <picture>
    <source srcset="http://localhost:8000/image7?format=webp&width=320" media="(max-width: 320px)" type="image/webp">
    <source srcset="http://localhost:8000/image7?format=webp&width=768" media="(max-width: 768px)" type="image/webp">
    <source srcset="http://localhost:8000/image7?format=webp&width=1024" media="(max-width: 1024px)" type="image/webp">
    <source srcset="http://localhost:8000/image7?format=webp&width=1920" type="image/webp">

    <source srcset="http://localhost:8000/image7?format=jpeg&width=320" media="(max-width: 320px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image7?format=jpeg&width=768" media="(max-width: 768px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image7?format=jpeg&width=1024" media="(max-width: 1024px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image7?format=jpeg&width=1920" type="image/jpeg">

    <img loading="lazy" src="http://localhost:8000/image7?format=jpeg&width=320" alt=''>
  </picture>

  <picture>
    <source srcset="http://localhost:8000/image8?format=webp&width=320" media="(max-width: 320px)" type="image/webp">
    <source srcset="http://localhost:8000/image8?format=webp&width=768" media="(max-width: 768px)" type="image/webp">
    <source srcset="http://localhost:8000/image8?format=webp&width=1024" media="(max-width: 1024px)" type="image/webp">
    <source srcset="http://localhost:8000/image8?format=webp&width=1920" type="image/webp">

    <source srcset="http://localhost:8000/image8?format=jpeg&width=320" media="(max-width: 320px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image8?format=jpeg&width=768" media="(max-width: 768px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image8?format=jpeg&width=1024" media="(max-width: 1024px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image8?format=jpeg&width=1920" type="image/jpeg">

    <img loading="lazy" src="http://localhost:8000/image8?format=jpeg&width=320" alt=''>
  </picture>

  <picture>
    <source srcset="http://localhost:8000/image9?format=webp&width=320" media="(max-width: 320px)" type="image/webp">
    <source srcset="http://localhost:8000/image9?format=webp&width=768" media="(max-width: 768px)" type="image/webp">
    <source srcset="http://localhost:8000/image9?format=webp&width=1024" media="(max-width: 1024px)" type="image/webp">
    <source srcset="http://localhost:8000/image9?format=webp&width=1920" type="image/webp">

    <source srcset="http://localhost:8000/image9?format=jpeg&width=320" media="(max-width: 320px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image9?format=jpeg&width=768" media="(max-width: 768px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image9?format=jpeg&width=1024" media="(max-width: 1024px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image9?format=jpeg&width=1920" type="image/jpeg">

    <img loading="lazy" src="http://localhost:8000/image9?format=jpeg&width=320" alt=''>
  </picture>

  <picture>
    <source srcset="http://localhost:8000/image10?format=webp&width=320" media="(max-width: 320px)" type="image/webp">
    <source srcset="http://localhost:8000/image10?format=webp&width=768" media="(max-width: 768px)" type="image/webp">
    <source srcset="http://localhost:8000/image10?format=webp&width=1024" media="(max-width: 1024px)" type="image/webp">
    <source srcset="http://localhost:8000/image10?format=webp&width=1920" type="image/webp">

    <source srcset="http://localhost:8000/image10?format=jpeg&width=320" media="(max-width: 320px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image10?format=jpeg&width=768" media="(max-width: 768px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image10?format=jpeg&width=1024" media="(max-width: 1024px)" type="image/jpeg">
    <source srcset="http://localhost:8000/image10?format=jpeg&width=1920" type="image/jpeg">

    <img loading="lazy" src="http://localhost:8000/image10?format=jpeg&width=320" alt=''>
  </picture>

</body>

<script type="text/javascript">
  document.addEventListener('lazybeforeunveil', function(e){
      if('loading' in HTMLImageElement.prototype) {
          const img = e.target;
          img.setAttribute('loading', 'lazy');
          img.src = img.getAttribute('data-src');
          var source = img.parentElement.getElementsByTagName('source');
          for(var i = 0; i < source.length; i++) {
              source[i].srcset = source[i].getAttribute('data-srcset');
          }
      }
  });
</script>

</html>